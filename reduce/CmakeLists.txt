#find_package(CUDAToolkit)
# find_package(BLAS REOUIRED)
add_executable(my_reduce_v0_baseline my_reduce_v0_baseline.cu)
# target_link_libraries(my reduce ve global memory PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY} $BLAS LIBRARIES})
target_link_libraries(my_reduce_v0_baseline PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v0_baseline PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()    
     
add_executable(my_reduce_v1_no_divergence_branch my_reduce_v1_no_divergence_branch.cu)
target_link_libraries(my_reduce_v1_no_divergence_branch PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v1_no_divergence_branch PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()

add_executable(my_reduce_v2_no_bank_conflict my_reduce_v2_no_bank_conflict.cu)
target_link_libraries(my_reduce_v2_no_bank_conflict PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v2_no_bank_conflict PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()

add_executable(my_reduce_v3_add_during_load_plan_a my_reduce_v3_add_during_load_plan_a.cu)
target_link_libraries(my_reduce_v3_add_during_load_plan_a PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v3_add_during_load_plan_a PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()

add_executable(my_reduce_v3_add_during_load_plan_b my_reduce_v3_add_during_load_plan_b.cu)
target_link_libraries(my_reduce_v3_add_during_load_plan_b PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v3_add_during_load_plan_b PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()

add_executable(my_reduce_v4_unroll_last_warp my_reduce_v4_unroll_last_warp.cu)
target_link_libraries(my_reduce_v4_unroll_last_warp PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v4_unroll_last_warp PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()

add_executable(my_reduce_v5_completely_unroll my_reduce_v5_completely_unroll.cu)
target_link_libraries(my_reduce_v5_completely_unroll PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v5_completely_unroll PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()

add_executable(my_reduce_v6_multi_add my_reduce_v6_multi_add.cu)
target_link_libraries(my_reduce_v6_multi_add PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v6_multi_add PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()

add_executable(my_reduce_v7_shuffle my_reduce_v7_shuffle.cu)
target_link_libraries(my_reduce_v7_shuffle PRIVATE CUDA::cudart ${CUDA_cublas_LIBRARY})
if(CMAKE_BUILD_TYPE STREQUAL "Debug")
     target_compile_options(my_reduce_v7_shuffle PRIVATE $<$<COMPILE_LANGUAGE:CUDA>:-G>)
endif()